language: clojure
notifications:
  slack:
    rooms:
    - lepovirta:v3PaLDZ95F0rcm3WvtDJ84YZ#github
    template:
    - 'Build <%{build_url}|#%{build_number}> (<%{compare_url}|%{commit}>) of %{repository_slug}@%{branch}
      by %{author} %{result} in %{elapsed_time}: %{message}'
    - Website @ http://staging.lepo.io/%{branch}/
after_success:
- CLOVERAGE_VERSION=1.0.9 lein cloverage --codecov
- bash <(curl -s https://codecov.io/bash) -f target/coverage/codecov.json
before_deploy: sudo pip install awscli
deploy:
  provider: script
  script: "$TRAVIS_BUILD_DIR/scripts/travis_deploy.sh"
  skip_cleanup: true
  on:
    repo: Lepovirta/lepo
    all_branches: true
env:
  global:
  - secure: bRrGX26Bn04g/v+b2P0bnGDmIQF+Unp+GKwKoliMuinP/ia3IFyelTUNyFzEBdiW3Fyvc9oVHNv2O3YoOQ0TfENjFEwP175arY/J0mFCSL+YR2n872U6IesrroIKKPAR0r9UiF3sJNk8Dx81foKMBdWQ+rlYBB7ulbIDiOLTkcByRr3km4EUt2WXKOzTovMGcC7IWXFA3NfEfx6BgRlfan1ynzAOatFGGqqxsEqWhWjy08opsdOdNTTS3rLOyETPc12VtToXihJslb7lip8n9imQF9FXsNZWrV930ShnwbV4pmQlrlxwZAv6IOTi1inYjM0wORD/gHO9xEXaT6lrSWKFq7/K993HWsQTGXTZMvD2DFG9EArJMWgwumuPj/AtOx+nFyFculr++dCtoeb0nZLFK5Asw6JsPGPLK04hUckp3wJ4g09G82bm2kJUA2G3ira0jnCSLt7WPIlLF1DnDX91esqjN19CUz85j9ARTXY2nPOBroKc3SsL8YUGJji6s3zgEXEw6F68Qv1YIQl1fh69CCwDl1UQuGIq+5wriT7N1T5YzzEojFNv8B5JUyVqh0sdRQSyYJUukMwshxBWW7YO1ARul+7wrHlJuU+DJiNYzzWzWjpscYixcjOGSr8vykXd+3Iv6c+cZ6oXzgrEb3Av33eSnBMYTQZh3ZaExOM=
  - secure: oiEbCLHCo2/s0sLaaxSufPh8PL2wIdObt01CKBiNNGeBmg+2rtIOoGDreVQ/jyqyA46pnx17cDJFlBHXEwdpSxov+xcsOkSm/quEsHweBuvz4c+XBbh9USyciyHOfIrp1ImKABmpSZub5kcN7idp8PkhIEZYwguKYpnDDms0Ek5pXQW1IEq+0hPrpq2vJfEF/AMbdZ9FdgvJAKRAX2ndd3lUxPHygfKb6FQATr5DjHjwIuYRqCclrhTnwAoNFD8ZKtlNH82Vo1leyu0EDJrEfG0f+4sm5Jbwa0WRiRoY8CqUASzKX6klrmGR7pPA9CVSPjRvxN+KXaqtDN10yF4db5RG4bb0vP4UeO+TsdG4qC17SztxijeENyfaIyzEH2qB9gJ2yiWBW87tamlWy6VeNNXwahfn7a+UZL452qbz2Y+Q33z5LPp58yULZSudwiWnrDHELz0zQf/oxHH9Hw2F+2MccjD8ZclwMeUh74xtQ1Our1hfzRJ4r7Ci5U1krKTZHSgy+YC3bYpzW2FY8hXLzPdRWph0sxTsgYC4uMaaDCW4qTOBzn2No5XvqKtELzqxyR3maKZZXX0GzkLbEF1yI0HvEQ5tzmI+wyyyswox141X/nH40rhtTBT4ecoPT+o4lk2mmjPKYn4YVT6y2Md0IV0vBZh22YBGz4UMxqBPScc=
  - secure: FdJSP/0rd+xBnHSnQy9iVW0XF5dmtpSRlhPiR4HreczcCaWp2tRKl5S2Ib362Tq4uJcKHJAPT0GptUVfQTPSn7mE/ww0cBAyUGXBrcoi+aUoepmN/WB5iGgIOknqhY+UWqxpZbULJnsVctcn9HhxpupNgMQ+KcrhVVsS5Euz9yuCCe7iaEUaJcqLdEXeOSGvdzCMlsoAKXny9uTzL8Vyhm318Als5IzYNVA2+OtvKLiltp9hVyhnbp7VKZcE8uK4KMLCcJ6GtnuTWABgHuvxepmabVIVVRG0K4kd2n3Y1mYqsRQH/W48P+Gb799VEnuIS7YqshaqCM4PCFh/zOuEHgFNUaIcwsqaMr2Qk2agp+/IQHYg+TNmQUiTNCYmT2BI9OuBxi0emBxWxueAQsO1QLToHtd1Gw4A1yEPBVPulrT8DU+vnpdd+jcbxuwkZNIz13T+L3b5ZMeHQaUobZAfKrD6eauQJd2lq62EVqsCa0DwlFQCjiFW7VawpQtXZYEs+tk6cgXDf/mMoO/3zIuLccJGFN0Y8EhWcEVaH8O2TXJIoY8IDuc1aDOEaSbi5z1XNu/328p8SyFI5oFFMbuEIYDnrgQ4M6gWzlXnkpJkmRTzYEzA4t4JWWiytZqVUYQYEVL9JsYlmJlWe9qwn+IVR380xczsvRLVPkc+l+iNTj8=
  - secure: Ap8QSrxRgitbcnvq9gbdqsMazuZNFxZAVAikXh2e8sC+lBQb0bTqmpKCQ69HNMhulO1yyILaypxauziWL5WVenKdTpmb+5p99e3tNYMUpcbZvMw80clJ/Obff0XkhO8wqJSXRGN0LkOhIwd1imvkZQU7RrWVEhFjC5iBkxJRVePvfPKXL+UpOYE8Q16ecbB2NRwogmjjiIz14n4bLCtRH8JuBPgFupqylUy+MtoFzqrphie8KOcIaTRuSpIz4fljuv03fR7FHwOOqqtuKQ6NARoz4Z0bjRdOfrJGWpMY2qaU3hSZ7BnoDW1+g3TvemMIjFsWT0Wz+IC50uAgSxqqTivI3OXfwcUJwZPkTtWwHfr3rqe8nlIoZDihxuFrSZrO8vUhxn13ce7beTsZLDBbcmI0UyxLYkWxhPCJ+Sr9Y4knVgpNiRD8G+NiBCxDEYeRlPFNsfYLYtsAa9YepeuKmc744zZ7/ZWXEG0FvAC6ujQMhXHgS5QeE5J3t9bjMZukwRT59XCjLsbMmTBchOQbQ8/lAB9bAx1XZyRzMgU7r+Hfr00BfzboZKhW3HaQZ/2707eQQtxgYiD53hje8DaUF+Jmr6MF1gFd1zDutbe/YP4OkblYWc2MBS7Ya39Ux6cdQHWjamMdUNBw2MxFw1ImDe7nSVF/2ndSfsUyDKO0vjk=
